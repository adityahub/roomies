<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script>
      AFRAME.registerComponent('play-on-click', {
        init: function () {
          this.onClick = this.onClick.bind(this);
        },
        play: function () {
          this.el.addEventListener('click', this.onClick);
        },
        pause: function () {
          this.el.removeEventListener('click', this.onClick);
        },
        onClick: function () {
          var videoEl = this.el.getAttribute('material').src;
          if (!videoEl) { return; }
          videoEl.play();
        }
      });

      AFRAME.registerComponent('hide-on-play', {
        schema: {type: 'selector'},
        init: function () {
          this.onPlaying = this.onPlaying.bind(this);
          this.onPause = this.onPause.bind(this);
        },
        play: function () {
          if (this.data) {
            this.data.addEventListener('playing', this.onPlaying);
            this.data.addEventListener('pause', this.onPause);
          }
        },
        pause: function () {
          if (this.data) {
            this.data.removeEventListener('playing', this.onPlaying);
            this.data.removeEventListener('pause', this.onPause);
          }
        },
        onPlaying: function () {
          this.el.setAttribute('visible', false);
        },
        onPause: function () {
          this.el.setAttribute('visible', true);
        }
      });
    </script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <video id="video-floor" src="https://cdn.pixabay.com/vimeo/328940142/Ocean%20-%2015285.mp4?rendition=source" loop crossorigin="anonymous" muted playsinline></video>
        <video id="video-wall1" src="https://cdn.pixabay.com/vimeo/414751426/Clouds%20-%2025055.mp4?rendition=source" loop crossorigin="anonymous" muted playsinline></video>
        <video id="video-wall2" src="https://cdn.pixabay.com/vimeo/376938173/Aurora%20-%2020001.mp4?rendition=source" loop crossorigin="anonymous" muted playsinline></video>
        <video id="video-wall3" src="https://cdn.pixabay.com/vimeo/359025370/Forest%20-%2021313.mp4?rendition=source" loop crossorigin="anonymous" muted playsinline></video>
        <video id="video-wall4" src="https://cdn.pixabay.com/vimeo/499126467/Waterfall%20-%2054937.mp4?rendition=source" loop crossorigin="anonymous" muted playsinline></video>
        <img id="play-image" src="https://cdn.glitch.com/3e633ad4-5dd2-44a2-82f6-39d1c2f79927%2Fplay_button.png?v=1618607977023" crossorigin="anonymous">
      </a-assets>

      <!-- Floor -->
      <a-plane position="0 0 0" rotation="-90 0 0" width="20" height="20" src="#video-floor" play-on-click>
        <a-image src="#play-image" scale="2 2 2" position="0 0 0.1" hide-on-play="#video-floor"></a-image>
      </a-plane>

      <!-- Walls -->
      <a-plane position="0 5 -10" width="20" height="10" src="#video-wall1" play-on-click>
        <a-image src="#play-image" scale="2 2 2" position="0 0 0.1" hide-on-play="#video-wall1"></a-image>
      </a-plane>
      <a-plane position="10 5 0" rotation="0 -90 0" width="20" height="10" src="#video-wall2" play-on-click>
        <a-image src="#play-image" scale="2 2 2" position="0 0 0.1" hide-on-play="#video-wall2"></a-image>
      </a-plane>
      <a-plane position="0 5 10" rotation="0 180 0" width="20" height="10" src="#video-wall3" play-on-click>
        <a-image src="#play-image" scale="2 2 2" position="0 0 0.1" hide-on-play="#video-wall3"></a-image>
      </a-plane>
      <a-plane position="-10 5 0" rotation="0 90 0" width="20" height="10" src="#video-wall4" play-on-click>
        <a-image src="#play-image" scale="2 2 2" position="0 0 0.1" hide-on-play="#video-wall4"></a-image>
      </a-plane>

      <!-- Camera -->
      <a-entity position="0 1.6 0">
        <a-camera></a-camera>
      </a-entity>
    </a-scene>
  </body>
</html>
